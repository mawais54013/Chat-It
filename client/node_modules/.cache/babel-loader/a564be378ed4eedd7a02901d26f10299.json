{"ast":null,"code":"import _classCallCheck from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/muhammadawais/Desktop/Chat-It/client/src/pages/Coding.js\";\nimport React from \"react\";\nimport Header from \"../Components/header\";\nimport { database } from \"firebase\";\nimport CodeMirror from \"react-codemirror\";\nimport Party from '../Components/Party';\nimport { getRandomRGB } from '../Components/util';\nimport \"./coding.css\";\n\nrequire(\"codemirror/lib/codemirror.css\");\n\nrequire(\"codemirror/mode/htmlmixed/htmlmixed\");\n\nrequire(\"codemirror/mode/css/css\");\n\nrequire(\"codemirror/mode/javascript/javascript\");\n\nrequire(\"codemirror/theme/dracula.css\");\n\nvar CodingPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CodingPage, _React$Component);\n\n  function CodingPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CodingPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CodingPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      html: '',\n      code: \"Loading...\",\n      code1: \"<h1 id='demo'></h1>\",\n      code2: 'css area',\n      code3: '',\n      cursorPosition: {\n        line: 0,\n        ch: 0\n      },\n      cursorPosition1: {\n        line: 0,\n        ch: 0\n      },\n      cursorPosition2: {\n        line: 0,\n        ch: 0\n      },\n      startChat: false,\n      nick: '',\n      roomName: '',\n      sharing: false,\n      windowColor: getRandomRGB(),\n      iOS: false,\n      startVideo: false,\n      chooseColor: false\n    };\n\n    _this.componentDidMount = function () {\n      _this.setUp();\n\n      var params = _this.props.match.params;\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      database().ref(\"/code-sessions/\" + params.sessionid).once(\"value\").then(function (snapshot) {\n        self.setState({\n          code: snapshot.val().content + \"\",\n          code2: snapshot.val().css + \"\",\n          code1: snapshot.val().text + \"\",\n          createdon: snapshot.val().createdon\n        }, function () {\n          var content = snapshot.val().content;\n          var css = snapshot.val().css;\n          var text = snapshot.val().text;\n          self.codemirror.getCodeMirror().setValue(content);\n          self.codemirror1.getCodeMirror().setValue(css); // self.codemirror2.getCodeMirror().setValue(text);\n        });\n        _this.codeRef = database().ref(\"code-sessions/\" + params.sessionid);\n\n        _this.codeRef.on(\"value\", function (snapshot) {\n          self.setState({\n            code: snapshot.val().content,\n            code2: snapshot.val().css,\n            code3: snapshot.val().text\n          });\n          var currentCursorPos = self.state.cursorPosition;\n          var currentCursorPos1 = self.state.cursorPosition1;\n          var currentCursorPos2 = self.state.cursorPosition2;\n          self.codemirror.getCodeMirror().setValue(snapshot.val().content);\n          self.codemirror1.getCodeMirror().setValue(snapshot.val().css);\n          self.codemirror2.getCodeMirror().setValue(snapshot.val().html);\n          self.setState({\n            cursorPosition: currentCursorPos\n          });\n          self.setState({\n            cursorPosition1: currentCursorPos1\n          });\n          self.setState({\n            cursorPosition2: currentCursorPos2\n          });\n          self.changeCursorPos();\n          self.changeCursorPos1();\n          self.changeCursorPos2();\n        });\n      }).catch(function (e) {\n        self.codemirror.getCodeMirror().setValue(\"No Sessions Found!\");\n      });\n    };\n\n    _this.changeCursorPos = function () {\n      var _this$state$cursorPos = _this.state.cursorPosition,\n          line = _this$state$cursorPos.line,\n          ch = _this$state$cursorPos.ch;\n\n      _this.codemirror.getCodeMirror().doc.setCursor(line, ch);\n    };\n\n    _this.changeCursorPos1 = function () {\n      var _this$state$cursorPos2 = _this.state.cursorPosition1,\n          line = _this$state$cursorPos2.line,\n          ch = _this$state$cursorPos2.ch;\n\n      _this.codemirror1.getCodeMirror().doc.setCursor(line, ch);\n    };\n\n    _this.changeCursorPos2 = function () {\n      var _this$state$cursorPos3 = _this.state.cursorPosition2,\n          line = _this$state$cursorPos3.line,\n          ch = _this$state$cursorPos3.ch;\n\n      _this.codemirror2.getCodeMirror().doc.setCursor(line, ch);\n    };\n\n    _this.onChange = function (newVal, change) {\n      // console.log(newVal, change);\n      _this.setState({\n        cursorPosition: {\n          line: _this.codemirror.getCodeMirror().doc.getCursor().line,\n          ch: _this.codemirror.getCodeMirror().doc.getCursor().ch\n        }\n      }, function () {});\n\n      _this.codeRef.child(\"content\").set(newVal);\n    };\n\n    _this.onChange2 = function (newVal1, change) {\n      // console.log(newVal, change);\n      _this.setState({\n        cursorPosition1: {\n          line: _this.codemirror1.getCodeMirror().doc.getCursor().line,\n          ch: _this.codemirror1.getCodeMirror().doc.getCursor().ch\n        }\n      }, function () {});\n\n      _this.codeRef.child(\"css\").set(newVal1);\n    };\n\n    _this.onChange3 = function (newVal2, change) {\n      // console.log(newVal, change);\n      _this.setState({\n        cursorPosition2: {\n          line: _this.codemirror2.getCodeMirror().doc.getCursor().line,\n          ch: _this.codemirror2.getCodeMirror().doc.getCursor().ch\n        }\n      }, function () {});\n\n      _this.codeRef.child(\"css\").set(newVal2);\n    };\n\n    _this.runCode = function () {\n      var _this$state = _this.state,\n          code = _this$state.code,\n          code1 = _this$state.code1,\n          code2 = _this$state.code2;\n      var iframe = _this.refs.iframe;\n      var document = iframe.contentDocument;\n      var documentContents = \"\\n    <!DOCTYPE html>\\n    <html lang=\\\"en\\\">\\n    <head>\\n      <meta charset=\\\"UTF-8\\\">\\n      <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n      <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"ie=edge\\\">\\n      <title>Document</title>\\n\\n      <style>\\n    \".concat(code2, \"\\n    </style>\\n    </head>\\n    <body>\\n      \").concat(code1, \"\\n\\n      <script type=\\\"text/javascript\\\">\\n        \").concat(code, \"\\n      </script>\\n    </body>\\n    </html>\\n  \");\n      document.open();\n      document.write(documentContents);\n      document.close();\n    };\n\n    _this.setUp = function () {\n      _this.checkiOS();\n\n      if (window.innerWidth > 800) _this.roomNameInput.focus();\n\n      if (window.location.hash && window.location.hash.length > 1) {\n        _this.setState({\n          roomName: window.location.hash.slice(1)\n        });\n\n        if (window.innerWidth > 800) _this.nickInput.focus();\n      }\n    };\n\n    _this.checkiOS = function () {\n      var ua = window.navigator.userAgent;\n      var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n      var webkit = !!ua.match(/Webkit/i);\n      var iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n      if (iOSSafari) _this.setState({\n        iOS: true\n      });\n    };\n\n    _this.handleStart = function () {\n      if (!_this.state.nick || !_this.state.roomName) {\n        alert('Please enter all fields.');\n        return;\n      }\n\n      _this.setState({\n        startChat: true\n      });\n\n      window.location.hash = \"#\".concat(_this.state.roomName);\n    };\n\n    _this.handleShareDialogClose = function () {\n      return _this.setState({\n        sharing: false\n      });\n    };\n\n    _this.handleInvite = function () {\n      return _this.setState({\n        sharing: true\n      });\n    };\n\n    _this.handleQuit = function () {\n      return _this.setState({\n        startChat: false\n      });\n    };\n\n    _this.handleChangeColor = function () {\n      return _this.setState({\n        choosingColor: !_this.state.choosingColor\n      });\n    };\n\n    _this.handleStartVideo = function () {\n      return _this.setState({\n        iOS: false\n      });\n    };\n\n    _this.handleColorSlide = function (color) {\n      return _this.setState({\n        windowColor: color.rgb\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CodingPage, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.runCode();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var html = this.state.html;\n      console.log(\"\".concat(window.location.origin, \"/#\").concat(this.state.roomName), \"test here\");\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Header, {\n        style: {\n          background: \"#1d1f27\"\n        },\n        extras: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, this.state.createdon ? \"Created On: \".concat(this.state.createdon) : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"coding-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"codeArea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(CodeMirror, {\n        ref: function ref(r) {\n          return _this2.codemirror = r;\n        },\n        className: \"code-mirror-container\",\n        value: this.state.code // value={js}\n        ,\n        onChange: this.onChange,\n        options: {\n          theme: \"dracula\",\n          lineNumbers: true,\n          readOnly: false,\n          mode: \"javascript\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(CodeMirror, {\n        ref: function ref(r) {\n          return _this2.codemirror1 = r;\n        },\n        value: this.state.code2,\n        onChange: this.onChange2 // onChange={value => { this.onChange2(value) }}\n        // value={html}\n        ,\n        options: {\n          mode: 'css',\n          theme: 'dracula',\n          lineNumbers: true,\n          readOnly: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(CodeMirror, {\n        ref: function ref(r) {\n          return _this2.codemirror2 = r;\n        },\n        value: this.state.code1,\n        onChange: this.onChange3 // onChange={value => { this.onChange1(value) }}\n        // value={html}\n        ,\n        options: {\n          mode: 'htmlmixed',\n          theme: 'dracula',\n          lineNumbers: true,\n          readOnly: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        className: \"result\",\n        id: \"iframe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(\"iframe\", {\n        title: \"result\",\n        className: \"iframe\",\n        ref: \"iframe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, \"P2P Video Chat Demo\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, \"To try this out, open this page in another tab, or send this page to some friends. Open dev tools to see the logging. To view the source code for this app, \", React.createElement(\"a\", {\n        href: \"https://github.com/lazorfuzz/liowebrtc-video-demo\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"click here\"), \". This app is powered by \", React.createElement(\"a\", {\n        href: \"https://github.com/lazorfuzz/liowebrtc\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"LioWebRTC\"), \".\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        className: \"github-button\",\n        href: \"https://github.com/lazorfuzz/liowebrtc\",\n        \"data-icon\": \"octicon-star\",\n        \"data-size\": \"large\",\n        \"data-show-count\": \"true\",\n        \"aria-label\": \"Star lazorfuzz/liowebrtc on GitHub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"Star LioWebRTC on GitHub\"))), !this.state.startChat && React.createElement(\"div\", {\n        className: \"setup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"textBox\",\n        type: \"text\",\n        placeholder: \"Room Name\",\n        value: this.state.roomName,\n        ref: function ref(el) {\n          return _this2.roomNameInput = el;\n        },\n        onChange: function onChange(e) {\n          _this2.setState({\n            roomName: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"textBox\",\n        type: \"text\",\n        placeholder: \"Nickname\",\n        value: this.state.nick,\n        ref: function ref(el) {\n          return _this2.nickInput = el;\n        },\n        onChange: function onChange(e) {\n          _this2.setState({\n            nick: e.target.value\n          });\n        },\n        onKeyUp: function onKeyUp(e) {\n          if (e.key === 'Enter') {\n            _this2.handleStart();\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: this.handleStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"Enter\")), this.state.startChat && React.createElement(\"div\", {\n        className: \"partyWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"controls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"roomName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \"Room Name: \", React.createElement(\"span\", {\n        className: \"roomLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \"\".concat(this.state.roomName))), React.createElement(\"div\", {\n        className: \"menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, this.state.choosingColor && React.createElement(\"div\", {\n        className: \"colorPopOver\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"colorCover\",\n        onClick: function onClick() {\n          return _this2.setState({\n            choosingColor: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        // iconStyle={{ color: 'white' }}\n        // tooltip=\"Add Friends\"\n        onClick: this.handleInvite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"group_add\")))), React.createElement(Party, {\n        roomName: \"liowebrtc-vchat-demo-\".concat(this.state.roomName),\n        nick: this.state.nick,\n        windowColor: this.state.windowColor,\n        iOS: this.state.iOS,\n        handleStartVideo: this.handleStartVideo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CodingPage;\n}(React.Component);\n\nexport { CodingPage as default };","map":{"version":3,"sources":["/Users/muhammadawais/Desktop/Chat-It/client/src/pages/Coding.js"],"names":["React","Header","database","CodeMirror","Party","getRandomRGB","require","CodingPage","state","html","code","code1","code2","code3","cursorPosition","line","ch","cursorPosition1","cursorPosition2","startChat","nick","roomName","sharing","windowColor","iOS","startVideo","chooseColor","componentDidMount","setUp","params","props","match","self","ref","sessionid","once","then","snapshot","setState","val","content","css","text","createdon","codemirror","getCodeMirror","setValue","codemirror1","codeRef","on","currentCursorPos","currentCursorPos1","currentCursorPos2","codemirror2","changeCursorPos","changeCursorPos1","changeCursorPos2","catch","e","doc","setCursor","onChange","newVal","change","getCursor","child","set","onChange2","newVal1","onChange3","newVal2","runCode","iframe","refs","document","contentDocument","documentContents","open","write","close","checkiOS","window","innerWidth","roomNameInput","focus","location","hash","length","slice","nickInput","ua","navigator","userAgent","webkit","iOSSafari","handleStart","alert","handleShareDialogClose","handleInvite","handleQuit","handleChangeColor","choosingColor","handleStartVideo","handleColorSlide","color","rgb","console","log","origin","background","r","theme","lineNumbers","readOnly","mode","el","target","value","key","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from \"../Components/header\";\nimport { database } from \"firebase\";\nimport CodeMirror from \"react-codemirror\";\nimport Party from '../Components/Party'\nimport { getRandomRGB } from '../Components/util';\nimport \"./coding.css\";\n\nrequire(\"codemirror/lib/codemirror.css\");\nrequire(\"codemirror/mode/htmlmixed/htmlmixed\");\nrequire(\"codemirror/mode/css/css\")\nrequire(\"codemirror/mode/javascript/javascript\");\nrequire(\"codemirror/theme/dracula.css\");\n\nexport default class CodingPage extends React.Component {\n  state = {\n    html: '',\n    code: \"Loading...\",\n    code1: `<h1 id='demo'></h1>`,\n    code2: 'css area',\n    code3 : '',\n    cursorPosition: {\n      line: 0,\n      ch: 0\n    }, \n    cursorPosition1: {\n      line: 0,\n      ch: 0\n    }, \n    cursorPosition2: {\n      line: 0,\n      ch: 0\n    }, \n    startChat: false,\n    nick: '',\n    roomName: '',\n    sharing: false,\n    windowColor: getRandomRGB(),\n    iOS: false,\n    startVideo: false,\n    chooseColor: false,\n  };\n\n  componentDidMount = () => {\n    this.setUp();\n    const { params } = this.props.match;\n    let self = this;\n\n    database()\n      .ref(\"/code-sessions/\" + params.sessionid)\n      .once(\"value\")\n      .then(snapshot => {\n        self.setState({ code: snapshot.val().content + \"\", code2: snapshot.val().css + \"\", code1: snapshot.val().text + \"\", createdon: snapshot.val().createdon }, () => {\n          let content = snapshot.val().content;\n          let css = snapshot.val().css;\n          let text = snapshot.val().text;\n          \n          self.codemirror.getCodeMirror().setValue(content);\n          self.codemirror1.getCodeMirror().setValue(css);\n          // self.codemirror2.getCodeMirror().setValue(text);\n        });\n        this.codeRef = database().ref(\"code-sessions/\" + params.sessionid);\n        this.codeRef.on(\"value\", function(snapshot) {\n          self.setState({\n            code: snapshot.val().content,\n            code2 : snapshot.val().css,\n            code3 : snapshot.val().text,\n          });\n          var currentCursorPos = self.state.cursorPosition;\n          var currentCursorPos1 = self.state.cursorPosition1;\n          var currentCursorPos2 = self.state.cursorPosition2;\n\n          self.codemirror.getCodeMirror().setValue(snapshot.val().content);\n          self.codemirror1.getCodeMirror().setValue(snapshot.val().css);\n          self.codemirror2.getCodeMirror().setValue(snapshot.val().html);\n\n          self.setState({ cursorPosition: currentCursorPos });\n          self.setState({ cursorPosition1: currentCursorPos1 });\n          self.setState({ cursorPosition2: currentCursorPos2 });\n\n          self.changeCursorPos();\n          self.changeCursorPos1();\n          self.changeCursorPos2();\n        });\n      })\n      .catch(e => {\n        self.codemirror.getCodeMirror().setValue(\"No Sessions Found!\");\n      });\n  };\n  // javascript\n  changeCursorPos = () => {\n    const { line, ch } = this.state.cursorPosition;\n    this.codemirror.getCodeMirror().doc.setCursor(line, ch);\n  };\n// css\n  changeCursorPos1 = () => {\n    const { line, ch } = this.state.cursorPosition1;\n    this.codemirror1.getCodeMirror().doc.setCursor(line, ch);\n  };\n// html\n  changeCursorPos2 = () => {\n    const { line, ch } = this.state.cursorPosition2;\n    this.codemirror2.getCodeMirror().doc.setCursor(line, ch);\n  };\n// javascript\n  onChange = (newVal, change) => {\n    // console.log(newVal, change);\n    this.setState(\n      {\n        cursorPosition: {\n          line: this.codemirror.getCodeMirror().doc.getCursor().line,\n          ch: this.codemirror.getCodeMirror().doc.getCursor().ch\n        }\n      },\n      () => {}\n    );\n    this.codeRef.child(\"content\").set(newVal);\n  };\n// css\n  onChange2 = (newVal1, change) => {\n    // console.log(newVal, change);\n    this.setState(\n      {\n        cursorPosition1: {\n          line: this.codemirror1.getCodeMirror().doc.getCursor().line,\n          ch: this.codemirror1.getCodeMirror().doc.getCursor().ch\n        }\n      },\n      () => {}\n    );\n    this.codeRef.child(\"css\").set(newVal1);\n  };\n\n// onChange1(data) {\n//   this.setState({\n//     code1: data,\n//   })\n//   this.runCode();\n// }\nonChange3 = (newVal2, change) => {\n  // console.log(newVal, change);\n  this.setState(\n    {\n      cursorPosition2: {\n        line: this.codemirror2.getCodeMirror().doc.getCursor().line,\n        ch: this.codemirror2.getCodeMirror().doc.getCursor().ch\n      }\n    },\n    () => {}\n  );\n  this.codeRef.child(\"css\").set(newVal2);\n};\n\ncomponentDidUpdate() {\n  this.runCode();\n}\n\nrunCode = () => {\n  const { code, code1, code2 } = this.state;\n\n  const iframe = this.refs.iframe;\n  const document = iframe.contentDocument;\n  const documentContents = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n      <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n      <title>Document</title>\n\n      <style>\n    ${code2}\n    </style>\n    </head>\n    <body>\n      ${code1}\n\n      <script type=\"text/javascript\">\n        ${code}\n      </script>\n    </body>\n    </html>\n  `;\n\n  document.open();\n  document.write(documentContents);\n  document.close();\n};\n\nsetUp = () => {\n  this.checkiOS();\n  if(window.innerWidth > 800) this.roomNameInput.focus();\n  if(window.location.hash && window.location.hash.length > 1) {\n    this.setState({ roomName: window.location.hash.slice(1) });\n    if(window.innerWidth > 800) this.nickInput.focus();\n  }\n}\n\ncheckiOS = () => {\n  const ua = window.navigator.userAgent;\n  const iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n  const webkit = !!ua.match(/Webkit/i);\n  const iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n  if(iOSSafari) this.setState({ iOS: true });\n}\n\nhandleStart = () => {\n  if (!this.state.nick || !this.state.roomName) {\n    alert('Please enter all fields.');\n    return;\n  }\n  this.setState({ startChat: true });\n  window.location.hash = `#${this.state.roomName}`;\n}\n\nhandleShareDialogClose = () => this.setState({ sharing: false });\n\nhandleInvite = () => this.setState({ sharing: true });\n\nhandleQuit = () => this.setState({ startChat: false });\n\nhandleChangeColor = () => this.setState({ choosingColor: !this.state.choosingColor });\n\nhandleStartVideo = () => this.setState({ iOS: false });\n\nhandleColorSlide = (color) => this.setState({ windowColor: color.rgb });\n\n  render() {\n    const { html } = this.state;\n    console.log(`${window.location.origin}/#${this.state.roomName}`,\"test here\");\n    return (\n      <React.Fragment>\n        <Header\n          style={{ background: \"#1d1f27\" }}\n          extras={\n            <div>\n              {this.state.createdon\n                ? `Created On: ${this.state.createdon}`\n                : \"\"}\n            </div>\n          }\n        />\n        <div className=\"coding-page\">\n        <div className=\"codeArea\">\n          <CodeMirror\n            ref={r => (this.codemirror = r)}\n            className=\"code-mirror-container\"\n            value={this.state.code}\n            // value={js}\n            onChange={this.onChange}\n            options={{\n              theme: \"dracula\",\n              lineNumbers: true,\n              readOnly: false,\n              mode: \"javascript\"\n            }}\n\n          />\n          </div>\n          <div>\n          <CodeMirror\n          ref={r => (this.codemirror1 = r)}\n            value={this.state.code2}\n            onChange={this.onChange2}\n            // onChange={value => { this.onChange2(value) }}\n            // value={html}\n            options={{\n              mode: 'css',\n              theme: 'dracula',\n              lineNumbers: true,\n              readOnly: false,\n            }}\n          />\n          </div>\n          <div>\n          <CodeMirror\n          ref={r => (this.codemirror2 = r)}\n            value={this.state.code1}\n            onChange={this.onChange3}\n            // onChange={value => { this.onChange1(value) }}\n            // value={html}\n            options={{\n              mode: 'htmlmixed',\n              theme: 'dracula',\n              lineNumbers: true,\n              readOnly: false,\n            }}\n          />\n          </div>\n        <section className=\"result\" id=\"iframe\">\n          <iframe title=\"result\" className=\"iframe\" ref=\"iframe\" />\n        </section>\n        </div>\n          \n        <div className=\"App\">\n          <div className=\"header\">\n            <h1>P2P Video Chat Demo</h1>\n            <p>To try this out, open this page in another tab, or send this page to some friends. Open dev tools to see the logging.\n              To view the source code for this app, <a href=\"https://github.com/lazorfuzz/liowebrtc-video-demo\" target=\"_blank\" rel=\"noopener noreferrer\">click here</a>. This app is powered by <a href=\"https://github.com/lazorfuzz/liowebrtc\" target=\"_blank\" rel=\"noopener noreferrer\">LioWebRTC</a>.\n              <br /><br />\n              <a className=\"github-button\" href=\"https://github.com/lazorfuzz/liowebrtc\" data-icon=\"octicon-star\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Star lazorfuzz/liowebrtc on GitHub\">Star LioWebRTC on GitHub</a></p>\n          </div>\n          {\n            !this.state.startChat &&\n            <div className=\"setup\">\n              <input\n                className=\"textBox\"\n                type=\"text\"\n                placeholder=\"Room Name\"\n                value={this.state.roomName}\n                ref={(el) => this.roomNameInput = el}\n                onChange={(e) => { this.setState({ roomName: e.target.value }) }}\n              />\n              <input\n                className=\"textBox\"\n                type=\"text\"\n                placeholder=\"Nickname\"\n                value={this.state.nick}\n                ref={(el) => this.nickInput = el}\n                onChange={(e) => { this.setState({ nick: e.target.value }) }}\n                onKeyUp={(e) => {\n                  if (e.key === 'Enter') {\n                    this.handleStart();\n                  }\n                }}\n              />\n              <button\n                className=\"btn\"\n                onClick={this.handleStart}\n                >Enter</button>\n            </div>\n          }\n          {\n            this.state.startChat &&\n            <div className=\"partyWrapper\">\n              <div className=\"controls\">\n                <p className=\"roomName\">Room Name: <span className=\"roomLabel\">{`${this.state.roomName}`}</span></p>\n                <div className=\"menu\">\n                  {\n                    this.state.choosingColor &&\n                    <div className=\"colorPopOver\">\n                      <div className=\"colorCover\" onClick={() => this.setState({ choosingColor: false })} />\n                    </div>\n                  }\n                  <button\n                    // iconStyle={{ color: 'white' }}\n                    // tooltip=\"Add Friends\"\n                    onClick={this.handleInvite}\n                    >\n                      <i className=\"material-icons\">group_add</i>\n                  </button>\n                </div>\n              </div>\n\n              <Party\n                roomName={`liowebrtc-vchat-demo-${this.state.roomName}`}\n                nick={this.state.nick}\n                windowColor={this.state.windowColor}\n                iOS={this.state.iOS}\n                handleStartVideo={this.handleStartVideo}\n              />\n            </div>\n          }\n        </div>\n      </React.Fragment>\n    );\n  }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}