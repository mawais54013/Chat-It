{"ast":null,"code":"import _classCallCheck from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/muhammadawais/Desktop/Chat-It/client/src/Components/Chat.js\";\nimport React, { Component } from 'react'; // import './App.css';\n\nimport PubNub from 'pubnub';\nvar msgs = [];\nvar letters = ['a', ',b', 'c'];\nvar name;\nvar pubnub = new PubNub({\n  subscribeKey: \"sub-c-834542aa-99cd-11e6-82f8-02ee2ddab7fe\",\n  publishKey: \"pub-c-430229ac-cac4-4408-a447-569b97be7f36\"\n});\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      loggined: false,\n      isEmpty: false\n    };\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      if (e.which === 13) {\n        if (e.target.value === \"\") {\n          this.setState({\n            loggined: false,\n            isEmpty: true\n          });\n        } else {\n          name = e.target.value;\n          this.setState({\n            loggined: true\n          });\n          pubnub.subscribe({\n            channels: ['my_channel'],\n            withPresence: true\n          });\n          pubnub.addListener({\n            message: function message(msg) {\n              msgs.push(msg.message);\n              this.setState({\n                newMessage: true\n              });\n              console.log('===========\\n', msg, '\\n===============');\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var inputType;\n\n      if (!this.state.loggined && this.state.isEmpty) {\n        inputType = React.createElement(\"div\", {\n          className: \"login-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          style: {\n            borderBottom: '1px solid red'\n          },\n          onKeyDown: this.handleKeyDown,\n          id: \"input\",\n          placeholder: \"Type your login and press Enter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }));\n      } else if (!this.state.loggined) {\n        inputType = React.createElement(\"div\", {\n          className: \"login-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          onKeyDown: this.handleKeyDown,\n          id: \"input\",\n          placeholder: \"Type your login and press Enter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }));\n      } else {\n        inputType = null;\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, inputType);\n    }\n  }]);\n\n  return Login;\n}(Component);\n\n;\n\nvar Chat =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Chat, _Component2);\n\n  function Chat() {\n    var _this2;\n\n    _classCallCheck(this, Chat);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Chat).call(this));\n    _this2.state = {\n      newMessage: false // eslint-disable-next-line\n\n    };\n    self = _assertThisInitialized(_assertThisInitialized(_this2));\n    _this2.handleKeyDown = _this2.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(Chat, [{\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      if (e.which === 13) {\n        pubnub.publish({\n          message: {\n            text: e.target.value,\n            uuid: name\n          },\n          channel: 'my_channel'\n        });\n        e.target.value = \"\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"chat-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, Object.keys(msgs).map(function (key) {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"avatar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, msgs[key].uuid[0].toUpperCase()), React.createElement(\"div\", {\n          className: \"message\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, msgs[key].text));\n      })), React.createElement(\"input\", {\n        type: \"text\",\n        onKeyDown: this.handleKeyDown,\n        placeholder: \"Type your message and press Enter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nvar ChatArea =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(ChatArea, _Component3);\n\n  function ChatArea() {\n    _classCallCheck(this, ChatArea);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ChatArea).apply(this, arguments));\n  }\n\n  _createClass(ChatArea, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Login, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Chat, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ChatArea;\n}(Component);\n\nexport default ChatArea;","map":{"version":3,"sources":["/Users/muhammadawais/Desktop/Chat-It/client/src/Components/Chat.js"],"names":["React","Component","PubNub","msgs","letters","name","pubnub","subscribeKey","publishKey","Login","state","loggined","isEmpty","handleKeyDown","bind","e","which","target","value","setState","subscribe","channels","withPresence","addListener","message","msg","push","newMessage","console","log","inputType","borderBottom","Chat","self","publish","text","uuid","channel","Object","keys","map","key","toUpperCase","ChatArea"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import './App.css';\nimport PubNub from 'pubnub';\nvar msgs = [];\nvar letters = ['a',',b','c']\nvar name;\n\nvar pubnub = new PubNub({\n    subscribeKey: \"sub-c-834542aa-99cd-11e6-82f8-02ee2ddab7fe\",\n    publishKey: \"pub-c-430229ac-cac4-4408-a447-569b97be7f36\",\n})\n\nclass Login extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      loggined: false,\n      isEmpty: false\n    }\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  handleKeyDown (e) {\n    if (e.which === 13) {\n      if (e.target.value === \"\") {\n        this.setState({loggined: false, isEmpty: true})\n      } else {\n        name = e.target.value;\n        this.setState({loggined: true});\n        pubnub.subscribe({\n            channels: ['my_channel'],\n            withPresence: true,\n        });\n        pubnub.addListener({\n            message: function(msg) {\n              msgs.push(msg.message);\n              this.setState({newMessage: true});\n              console.log('===========\\n', msg, '\\n===============');\n            }\n        });\n\n      }\n    }\n  }\n\n  render () {\n    let inputType;\n    if (!this.state.loggined && this.state.isEmpty) {\n      inputType = (\n        <div className=\"login-block\">\n          <input type=\"text\" style={{borderBottom: '1px solid red'}} onKeyDown={this.handleKeyDown} id=\"input\" placeholder=\"Type your login and press Enter\"></input>\n        </div>\n      )\n    } else if (!this.state.loggined) {\n      inputType = (\n        <div className=\"login-block\">\n          <input type=\"text\" onKeyDown={this.handleKeyDown} id=\"input\" placeholder=\"Type your login and press Enter\"></input>\n        </div>\n      )\n    } else {\n      inputType = null;\n    }\n    return (\n      <div>\n        { inputType }\n      </div>\n    )\n  }\n};\n\nclass Chat extends Component {\n  constructor() {\n    super();\n    this.state = {\n      newMessage: false\n    }\n    // eslint-disable-next-line\n    self = this;\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  handleKeyDown (e) {\n    if (e.which === 13) {\n      pubnub.publish(\n          {\n              message: {\n                text: e.target.value,\n                uuid: name\n              },\n              channel: 'my_channel',\n          }\n      );\n      e.target.value = \"\";\n    }\n  }\n\n  render () {\n\n\n      return (\n        <div className=\"chat-block\">\n          <ul>\n            { Object.keys(msgs).map(function(key) {\n                return (\n                  <li>\n                    <div className=\"avatar\">{msgs[key].uuid[0].toUpperCase()}</div>\n                    <div className=\"message\">{msgs[key].text}</div>\n                  </li>\n                )\n            })}\n          </ul>\n          <input type=\"text\" onKeyDown={this.handleKeyDown} placeholder=\"Type your message and press Enter\"></input>\n        </div>\n      )\n  }\n\n}\n\nclass ChatArea extends Component {\n  render() {\n      return (\n        <div>\n          <Login></Login>\n          <Chat></Chat>\n        </div>\n      );\n  }\n}\n\nexport default ChatArea;\n"]},"metadata":{},"sourceType":"module"}