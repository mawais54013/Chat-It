{"ast":null,"code":"import _classCallCheck from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/muhammadawais/Desktop/Chat-It/client/src/pages/Coding.js\";\nimport React from \"react\";\nimport Header from \"../Components/header\";\nimport { database } from \"firebase\";\nimport CodeMirror from \"react-codemirror\";\nimport Party from '../Components/Party';\nimport { getRandomRGB } from '../Components/util';\nimport \"./coding.css\";\n\nrequire(\"codemirror/lib/codemirror.css\");\n\nrequire(\"codemirror/mode/htmlmixed/htmlmixed\");\n\nrequire(\"codemirror/mode/css/css\");\n\nrequire(\"codemirror/mode/javascript/javascript\");\n\nrequire(\"codemirror/theme/dracula.css\");\n\nvar CodingPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CodingPage, _React$Component);\n\n  function CodingPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CodingPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CodingPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      html: '',\n      code: \"Loading...\",\n      code1: \"<h1 id='demo'></h1>\",\n      code2: 'css area',\n      cursorPosition: {\n        line: 0,\n        ch: 0\n      },\n      cursorPosition1: {\n        line1: 0,\n        ch1: 0\n      },\n      startChat: false,\n      nick: '',\n      roomName: '',\n      sharing: false,\n      windowColor: getRandomRGB(),\n      iOS: false,\n      startVideo: false,\n      chooseColor: false\n    };\n\n    _this.componentDidMount = function () {\n      _this.setUp(); // javascript \n\n\n      var params = _this.props.match.params;\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      database().ref(\"/code-sessions/\" + params.sessionid).once(\"value\").then(function (snapshot) {\n        self.setState({\n          code: snapshot.val().content + \"\",\n          createdon: snapshot.val().createdon\n        }, function () {\n          var content = snapshot.val().content;\n          self.codemirror.getCodeMirror().setValue(content);\n        });\n        _this.codeRef = database().ref(\"code-sessions/\" + params.sessionid);\n\n        _this.codeRef.on(\"value\", function (snapshot) {\n          self.setState({\n            code: snapshot.val().content\n          });\n          var currentCursorPos = self.state.cursorPosition;\n          self.codemirror.getCodeMirror().setValue(snapshot.val().content);\n          self.setState({\n            cursorPosition: currentCursorPos\n          });\n          self.changeCursorPos();\n        });\n      }).catch(function (e) {\n        self.codemirror.getCodeMirror().setValue(\"No Sessions Found!\");\n      });\n\n      var self1 = _assertThisInitialized(_assertThisInitialized(_this));\n\n      database().ref(\"/code-sessions/\" + params.sessionid).once(\"value\").then(function (snapshot1) {\n        self1.setState({\n          code2: snapshot1.val().content + \"\",\n          createdon: snapshot1.val().createdon\n        }, function () {\n          var content = snapshot1.val().content;\n          self1.codemirror.getCodeMirror().setValue(content);\n        });\n        _this.codeRef1 = database().ref(\"code-sessions/\" + params.sessionid);\n\n        _this.codeRef1.on(\"value\", function (snapshot1) {\n          self1.setState({\n            code2: snapshot1.val().content\n          });\n          var currentCursorPos1 = self1.state.cursorPosition1;\n          self1.codemirror.getCodeMirror().setValue(snapshot1.val().content);\n          self1.setState({\n            cursorPosition1: currentCursorPos1\n          });\n          self1.changeCursorPos1();\n        });\n      }).catch(function (e) {\n        self1.codemirror.getCodeMirror().setValue(\"No Sessions Found!\");\n      });\n    };\n\n    _this.changeCursorPos = function () {\n      var _this$state$cursorPos = _this.state.cursorPosition,\n          line = _this$state$cursorPos.line,\n          ch = _this$state$cursorPos.ch;\n\n      _this.codemirror.getCodeMirror().doc.setCursor(line, ch);\n    };\n\n    _this.changeCursorPos1 = function () {\n      var _this$state$cursorPos2 = _this.state.cursorPosition1,\n          line1 = _this$state$cursorPos2.line1,\n          ch1 = _this$state$cursorPos2.ch1;\n\n      _this.codemirror.getCodeMirror().doc.setCursor(line1, ch1);\n    };\n\n    _this.onChange = function (newVal, change) {\n      // console.log(newVal, change);\n      _this.setState({\n        cursorPosition: {\n          line: _this.codemirror.getCodeMirror().doc.getCursor().line,\n          ch: _this.codemirror.getCodeMirror().doc.getCursor().ch\n        }\n      }, function () {});\n\n      _this.codeRef.child(\"content\").set(newVal);\n    };\n\n    _this.onChange1 = function (newVal, change) {\n      // console.log(newVal, change);\n      _this.setState({\n        cursorPosition1: {\n          line1: _this.codemirror.getCodeMirror().doc.getCursor().line1,\n          ch1: _this.codemirror.getCodeMirror().doc.getCursor().ch1\n        }\n      }, function () {});\n\n      _this.codeRef1.child(\"content\").set(newVal);\n    };\n\n    _this.runCode = function () {\n      // include code2 here\n      var _this$state = _this.state,\n          code = _this$state.code,\n          code1 = _this$state.code1,\n          code2 = _this$state.code2; // between head and body include following code\n      // <style>\n      // ${code2}\n      // </style>\n\n      var iframe = _this.refs.iframe;\n      var document = iframe.contentDocument;\n      var documentContents = \"\\n    <!DOCTYPE html>\\n    <html lang=\\\"en\\\">\\n    <head>\\n      <meta charset=\\\"UTF-8\\\">\\n      <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n      <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"ie=edge\\\">\\n      <title>Document</title>\\n\\n      <style>\\n    \".concat(code2, \"\\n    </style>\\n    </head>\\n    <body>\\n      \").concat(code1, \"\\n\\n      <script type=\\\"text/javascript\\\">\\n        \").concat(code, \"\\n      </script>\\n    </body>\\n    </html>\\n  \");\n      document.open();\n      document.write(documentContents);\n      document.close();\n    };\n\n    _this.setUp = function () {\n      _this.checkiOS();\n\n      if (window.innerWidth > 800) _this.roomNameInput.focus();\n\n      if (window.location.hash && window.location.hash.length > 1) {\n        _this.setState({\n          roomName: window.location.hash.slice(1)\n        });\n\n        if (window.innerWidth > 800) _this.nickInput.focus();\n      }\n    };\n\n    _this.checkiOS = function () {\n      var ua = window.navigator.userAgent;\n      var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n      var webkit = !!ua.match(/Webkit/i);\n      var iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n      if (iOSSafari) _this.setState({\n        iOS: true\n      });\n    };\n\n    _this.handleStart = function () {\n      if (!_this.state.nick || !_this.state.roomName) {\n        alert('Please enter all fields.');\n        return;\n      }\n\n      _this.setState({\n        startChat: true\n      });\n\n      window.location.hash = \"#\".concat(_this.state.roomName);\n    };\n\n    _this.handleShareDialogClose = function () {\n      return _this.setState({\n        sharing: false\n      });\n    };\n\n    _this.handleInvite = function () {\n      return _this.setState({\n        sharing: true\n      });\n    };\n\n    _this.handleQuit = function () {\n      return _this.setState({\n        startChat: false\n      });\n    };\n\n    _this.handleChangeColor = function () {\n      return _this.setState({\n        choosingColor: !_this.state.choosingColor\n      });\n    };\n\n    _this.handleStartVideo = function () {\n      return _this.setState({\n        iOS: false\n      });\n    };\n\n    _this.handleColorSlide = function (color) {\n      return _this.setState({\n        windowColor: color.rgb\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CodingPage, [{\n    key: \"componentDidUpdate\",\n    // onChange2(data) {\n    //   this.setState({\n    //     code2: data,\n    //   })\n    //   this.runCode();\n    // }\n    value: function componentDidUpdate() {\n      this.runCode();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var html = this.state.html;\n      console.log(\"\".concat(window.location.origin, \"/#\").concat(this.state.roomName), \"test here\");\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(Header, {\n        style: {\n          background: \"#1d1f27\"\n        },\n        extras: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, this.state.createdon ? \"Created On: \".concat(this.state.createdon) : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"coding-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"codeArea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(CodeMirror, {\n        ref: function ref(r) {\n          return _this2.codemirror = r;\n        },\n        className: \"code-mirror-container\",\n        value: this.state.code // value={js}\n        ,\n        onChange: this.onChange,\n        options: {\n          theme: \"dracula\",\n          lineNumbers: true,\n          readOnly: false,\n          mode: \"javascript\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(CodeMirror, {\n        value: this.state.code2,\n        onChange: this.onChange1 // onChange={value => { this.onChange(value) }}\n        // value={html}\n        ,\n        options: {\n          mode: 'css',\n          theme: 'dracula',\n          lineNumbers: true,\n          readOnly: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(CodeMirror, {\n        value: this.state.code1 // onChange={value => { this.onChange1(value) }}\n        // value={html}\n        ,\n        options: {\n          mode: 'htmlmixed',\n          theme: 'dracula',\n          lineNumbers: true,\n          readOnly: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        className: \"result\",\n        id: \"iframe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(\"iframe\", {\n        title: \"result\",\n        className: \"iframe\",\n        ref: \"iframe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"P2P Video Chat Demo\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \"To try this out, open this page in another tab, or send this page to some friends. Open dev tools to see the logging. To view the source code for this app, \", React.createElement(\"a\", {\n        href: \"https://github.com/lazorfuzz/liowebrtc-video-demo\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, \"click here\"), \". This app is powered by \", React.createElement(\"a\", {\n        href: \"https://github.com/lazorfuzz/liowebrtc\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, \"LioWebRTC\"), \".\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        className: \"github-button\",\n        href: \"https://github.com/lazorfuzz/liowebrtc\",\n        \"data-icon\": \"octicon-star\",\n        \"data-size\": \"large\",\n        \"data-show-count\": \"true\",\n        \"aria-label\": \"Star lazorfuzz/liowebrtc on GitHub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \"Star LioWebRTC on GitHub\"))), !this.state.startChat && React.createElement(\"div\", {\n        className: \"setup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"textBox\",\n        type: \"text\",\n        placeholder: \"Room Name\",\n        value: this.state.roomName,\n        ref: function ref(el) {\n          return _this2.roomNameInput = el;\n        },\n        onChange: function onChange(e) {\n          _this2.setState({\n            roomName: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"textBox\",\n        type: \"text\",\n        placeholder: \"Nickname\",\n        value: this.state.nick,\n        ref: function ref(el) {\n          return _this2.nickInput = el;\n        },\n        onChange: function onChange(e) {\n          _this2.setState({\n            nick: e.target.value\n          });\n        },\n        onKeyUp: function onKeyUp(e) {\n          if (e.key === 'Enter') {\n            _this2.handleStart();\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: this.handleStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, \"Enter\")), this.state.startChat && React.createElement(\"div\", {\n        className: \"partyWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"controls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"roomName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"Room Name: \", React.createElement(\"span\", {\n        className: \"roomLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"\".concat(this.state.roomName))), React.createElement(\"div\", {\n        className: \"menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, this.state.choosingColor && React.createElement(\"div\", {\n        className: \"colorPopOver\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"colorCover\",\n        onClick: function onClick() {\n          return _this2.setState({\n            choosingColor: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        // iconStyle={{ color: 'white' }}\n        // tooltip=\"Add Friends\"\n        onClick: this.handleInvite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"group_add\")))), React.createElement(Party, {\n        roomName: \"liowebrtc-vchat-demo-\".concat(this.state.roomName),\n        nick: this.state.nick,\n        windowColor: this.state.windowColor,\n        iOS: this.state.iOS,\n        handleStartVideo: this.handleStartVideo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CodingPage;\n}(React.Component);\n\nexport { CodingPage as default };","map":{"version":3,"sources":["/Users/muhammadawais/Desktop/Chat-It/client/src/pages/Coding.js"],"names":["React","Header","database","CodeMirror","Party","getRandomRGB","require","CodingPage","state","html","code","code1","code2","cursorPosition","line","ch","cursorPosition1","line1","ch1","startChat","nick","roomName","sharing","windowColor","iOS","startVideo","chooseColor","componentDidMount","setUp","params","props","match","self","ref","sessionid","once","then","snapshot","setState","val","content","createdon","codemirror","getCodeMirror","setValue","codeRef","on","currentCursorPos","changeCursorPos","catch","e","self1","snapshot1","codeRef1","currentCursorPos1","changeCursorPos1","doc","setCursor","onChange","newVal","change","getCursor","child","set","onChange1","runCode","iframe","refs","document","contentDocument","documentContents","open","write","close","checkiOS","window","innerWidth","roomNameInput","focus","location","hash","length","slice","nickInput","ua","navigator","userAgent","webkit","iOSSafari","handleStart","alert","handleShareDialogClose","handleInvite","handleQuit","handleChangeColor","choosingColor","handleStartVideo","handleColorSlide","color","rgb","console","log","origin","background","r","theme","lineNumbers","readOnly","mode","el","target","value","key","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from \"../Components/header\";\nimport { database } from \"firebase\";\nimport CodeMirror from \"react-codemirror\";\nimport Party from '../Components/Party'\nimport { getRandomRGB } from '../Components/util';\nimport \"./coding.css\";\n\nrequire(\"codemirror/lib/codemirror.css\");\nrequire(\"codemirror/mode/htmlmixed/htmlmixed\");\nrequire(\"codemirror/mode/css/css\")\nrequire(\"codemirror/mode/javascript/javascript\");\nrequire(\"codemirror/theme/dracula.css\");\n\nexport default class CodingPage extends React.Component {\n  state = {\n    html: '',\n    code: \"Loading...\",\n    code1: `<h1 id='demo'></h1>`,\n    code2: 'css area',\n    cursorPosition: {\n      line: 0,\n      ch: 0\n    }, \n    cursorPosition1: {\n      line1: 0,\n      ch1: 0\n    }, \n    startChat: false,\n    nick: '',\n    roomName: '',\n    sharing: false,\n    windowColor: getRandomRGB(),\n    iOS: false,\n    startVideo: false,\n    chooseColor: false,\n  };\n\n  componentDidMount = () => {\n    this.setUp();\n    // javascript \n    const { params } = this.props.match;\n    let self = this;\n    database()\n      .ref(\"/code-sessions/\" + params.sessionid)\n      .once(\"value\")\n      .then(snapshot => {\n        self.setState({ code: snapshot.val().content + \"\", createdon: snapshot.val().createdon }, () => {\n          let content = snapshot.val().content;\n\n          self.codemirror.getCodeMirror().setValue(content);\n        });\n        this.codeRef = database().ref(\"code-sessions/\" + params.sessionid);\n        this.codeRef.on(\"value\", function(snapshot) {\n          self.setState({\n            code: snapshot.val().content\n          });\n          var currentCursorPos = self.state.cursorPosition;\n          self.codemirror.getCodeMirror().setValue(snapshot.val().content);\n          self.setState({ cursorPosition: currentCursorPos });\n          self.changeCursorPos();\n        });\n      })\n      .catch(e => {\n        self.codemirror.getCodeMirror().setValue(\"No Sessions Found!\");\n      });\n\n    let self1 = this;\n    database()\n      .ref(\"/code-sessions/\" + params.sessionid)\n      .once(\"value\")\n      .then(snapshot1 => {\n        self1.setState({ code2: snapshot1.val().content + \"\", createdon: snapshot1.val().createdon }, () => {\n          let content = snapshot1.val().content;\n\n          self1.codemirror.getCodeMirror().setValue(content);\n        });\n        this.codeRef1 = database().ref(\"code-sessions/\" + params.sessionid);\n        this.codeRef1.on(\"value\", function(snapshot1) {\n          self1.setState({\n            code2: snapshot1.val().content\n          });\n          var currentCursorPos1 = self1.state.cursorPosition1;\n          self1.codemirror.getCodeMirror().setValue(snapshot1.val().content);\n          self1.setState({ cursorPosition1: currentCursorPos1 });\n          self1.changeCursorPos1();\n        });\n      })\n      .catch(e => {\n        self1.codemirror.getCodeMirror().setValue(\"No Sessions Found!\");\n      });\n  };\n  // javascript\n  changeCursorPos = () => {\n    const { line, ch } = this.state.cursorPosition;\n    this.codemirror.getCodeMirror().doc.setCursor(line, ch);\n  };\n\n  changeCursorPos1 = () => {\n    const { line1, ch1 } = this.state.cursorPosition1;\n    this.codemirror.getCodeMirror().doc.setCursor(line1, ch1);\n  };\n\n  onChange = (newVal, change) => {\n    // console.log(newVal, change);\n    this.setState(\n      {\n        cursorPosition: {\n          line: this.codemirror.getCodeMirror().doc.getCursor().line,\n          ch: this.codemirror.getCodeMirror().doc.getCursor().ch\n        }\n      },\n      () => {}\n    );\n    this.codeRef.child(\"content\").set(newVal);\n  };\n\n// onChange1(data) {\n//   this.setState({\n//     code1: data,\n//   })\n//   this.runCode();\n// }\nonChange1 = (newVal, change) => {\n  // console.log(newVal, change);\n  this.setState(\n    {\n      cursorPosition1: {\n        line1: this.codemirror.getCodeMirror().doc.getCursor().line1,\n        ch1: this.codemirror.getCodeMirror().doc.getCursor().ch1\n      }\n    },\n    () => {}\n  );\n  this.codeRef1.child(\"content\").set(newVal);\n};\n\n// onChange2(data) {\n//   this.setState({\n//     code2: data,\n//   })\n//   this.runCode();\n// }\n\ncomponentDidUpdate() {\n  this.runCode();\n}\n\nrunCode = () => {\n  // include code2 here\n  const { code, code1, code2 } = this.state;\n\n  // between head and body include following code\n  // <style>\n  // ${code2}\n  // </style>\n  const iframe = this.refs.iframe;\n  const document = iframe.contentDocument;\n  const documentContents = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n      <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n      <title>Document</title>\n\n      <style>\n    ${code2}\n    </style>\n    </head>\n    <body>\n      ${code1}\n\n      <script type=\"text/javascript\">\n        ${code}\n      </script>\n    </body>\n    </html>\n  `;\n\n  document.open();\n  document.write(documentContents);\n  document.close();\n};\n\nsetUp = () => {\n  this.checkiOS();\n  if(window.innerWidth > 800) this.roomNameInput.focus();\n  if(window.location.hash && window.location.hash.length > 1) {\n    this.setState({ roomName: window.location.hash.slice(1) });\n    if(window.innerWidth > 800) this.nickInput.focus();\n  }\n}\n\ncheckiOS = () => {\n  const ua = window.navigator.userAgent;\n  const iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n  const webkit = !!ua.match(/Webkit/i);\n  const iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n  if(iOSSafari) this.setState({ iOS: true });\n}\n\nhandleStart = () => {\n  if (!this.state.nick || !this.state.roomName) {\n    alert('Please enter all fields.');\n    return;\n  }\n  this.setState({ startChat: true });\n  window.location.hash = `#${this.state.roomName}`;\n}\n\nhandleShareDialogClose = () => this.setState({ sharing: false });\n\nhandleInvite = () => this.setState({ sharing: true });\n\nhandleQuit = () => this.setState({ startChat: false });\n\nhandleChangeColor = () => this.setState({ choosingColor: !this.state.choosingColor });\n\nhandleStartVideo = () => this.setState({ iOS: false });\n\nhandleColorSlide = (color) => this.setState({ windowColor: color.rgb });\n\n  render() {\n    const { html } = this.state;\n    console.log(`${window.location.origin}/#${this.state.roomName}`,\"test here\");\n    return (\n      <React.Fragment>\n        <Header\n          style={{ background: \"#1d1f27\" }}\n          extras={\n            <div>\n              {this.state.createdon\n                ? `Created On: ${this.state.createdon}`\n                : \"\"}\n            </div>\n          }\n        />\n        <div className=\"coding-page\">\n        <div className=\"codeArea\">\n          <CodeMirror\n            ref={r => (this.codemirror = r)}\n            className=\"code-mirror-container\"\n            value={this.state.code}\n            // value={js}\n            onChange={this.onChange}\n            options={{\n              theme: \"dracula\",\n              lineNumbers: true,\n              readOnly: false,\n              mode: \"javascript\"\n            }}\n\n          />\n          </div>\n          <div>\n          <CodeMirror\n            value={this.state.code2}\n            onChange={this.onChange1}\n            // onChange={value => { this.onChange(value) }}\n            // value={html}\n            options={{\n              mode: 'css',\n              theme: 'dracula',\n              lineNumbers: true,\n              readOnly: false,\n            }}\n          />\n          </div>\n          <div>\n          <CodeMirror\n            value={this.state.code1}\n            // onChange={value => { this.onChange1(value) }}\n            // value={html}\n            options={{\n              mode: 'htmlmixed',\n              theme: 'dracula',\n              lineNumbers: true,\n              readOnly: false,\n            }}\n          />\n          </div>\n        <section className=\"result\" id=\"iframe\">\n          <iframe title=\"result\" className=\"iframe\" ref=\"iframe\" />\n        </section>\n        </div>\n          \n        <div className=\"App\">\n          <div className=\"header\">\n            <h1>P2P Video Chat Demo</h1>\n            <p>To try this out, open this page in another tab, or send this page to some friends. Open dev tools to see the logging.\n              To view the source code for this app, <a href=\"https://github.com/lazorfuzz/liowebrtc-video-demo\" target=\"_blank\" rel=\"noopener noreferrer\">click here</a>. This app is powered by <a href=\"https://github.com/lazorfuzz/liowebrtc\" target=\"_blank\" rel=\"noopener noreferrer\">LioWebRTC</a>.\n              <br /><br />\n              <a className=\"github-button\" href=\"https://github.com/lazorfuzz/liowebrtc\" data-icon=\"octicon-star\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Star lazorfuzz/liowebrtc on GitHub\">Star LioWebRTC on GitHub</a></p>\n          </div>\n          {\n            !this.state.startChat &&\n            <div className=\"setup\">\n              <input\n                className=\"textBox\"\n                type=\"text\"\n                placeholder=\"Room Name\"\n                value={this.state.roomName}\n                ref={(el) => this.roomNameInput = el}\n                onChange={(e) => { this.setState({ roomName: e.target.value }) }}\n              />\n              <input\n                className=\"textBox\"\n                type=\"text\"\n                placeholder=\"Nickname\"\n                value={this.state.nick}\n                ref={(el) => this.nickInput = el}\n                onChange={(e) => { this.setState({ nick: e.target.value }) }}\n                onKeyUp={(e) => {\n                  if (e.key === 'Enter') {\n                    this.handleStart();\n                  }\n                }}\n              />\n              <button\n                className=\"btn\"\n                onClick={this.handleStart}\n                >Enter</button>\n            </div>\n          }\n          {\n            this.state.startChat &&\n            <div className=\"partyWrapper\">\n              <div className=\"controls\">\n                <p className=\"roomName\">Room Name: <span className=\"roomLabel\">{`${this.state.roomName}`}</span></p>\n                <div className=\"menu\">\n                  {\n                    this.state.choosingColor &&\n                    <div className=\"colorPopOver\">\n                      <div className=\"colorCover\" onClick={() => this.setState({ choosingColor: false })} />\n                    </div>\n                  }\n                  <button\n                    // iconStyle={{ color: 'white' }}\n                    // tooltip=\"Add Friends\"\n                    onClick={this.handleInvite}\n                    >\n                      <i className=\"material-icons\">group_add</i>\n                  </button>\n                </div>\n              </div>\n\n              <Party\n                roomName={`liowebrtc-vchat-demo-${this.state.roomName}`}\n                nick={this.state.nick}\n                windowColor={this.state.windowColor}\n                iOS={this.state.iOS}\n                handleStartVideo={this.handleStartVideo}\n              />\n            </div>\n          }\n        </div>\n      </React.Fragment>\n    );\n  }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}