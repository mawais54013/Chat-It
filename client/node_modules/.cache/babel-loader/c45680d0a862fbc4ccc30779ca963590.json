{"ast":null,"code":"/**\n * Handle event rescue on document\n * @function rescue\n * @param {string} event - Name of event\n * @param {function} handler - Event handler\n */\n'use strict';\n\nimport get from './get';\n\nvar debug = require('debug')('the:window:rescue');\n/** @lends rescue */\n\n\nfunction rescue(handler) {\n  var window = get('window');\n\n  if (!window) {\n    return;\n  }\n\n  window.addEventListener('unhandledrejection', handler);\n  {\n    var onerror = window.onerror;\n\n    window.onerror = function theErrorRescue(e) {\n      debug('error', e);\n      onerror && onerror(e);\n\n      if (e.resolved) {\n        return;\n      }\n\n      handler(e);\n    };\n  }\n}\n\nexport default rescue;","map":null,"metadata":{},"sourceType":"module"}