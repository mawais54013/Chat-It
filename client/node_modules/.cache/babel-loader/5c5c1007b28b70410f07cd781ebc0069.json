{"ast":null,"code":"import _classCallCheck from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/muhammadawais/Desktop/Chat-It/client/src/pages/Home.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../Components/header\";\nimport rand from \"random-key\";\nimport { database } from \"firebase\";\nimport \"./home.css\";\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HomePage, _React$Component);\n\n  function HomePage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HomePage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      key: rand.generate(5),\n      num: null,\n      roomName: ''\n    };\n\n    _this.componentDidMount = function () {\n      _this.setup();\n\n      database().ref(\"code-sessions\").on(\"value\", function (s) {\n        _this.setState({\n          num: s.numChildren()\n        });\n      });\n    };\n\n    _this.setup = function () {\n      _this.checkiOS();\n\n      if (window.innerWidth > 800) _this.roomNameInput.focus();\n\n      if (window.location.hash && window.location.hash.length > 1) {\n        _this.setState({\n          roomName: window.location.hash.slice(1)\n        });\n      }\n    };\n\n    _this.checkiOS = function () {\n      var ua = window.navigator.userAgent;\n      var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n      var webkit = !!ua.match(/WebKit/i);\n      var iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n    };\n\n    _this.onNewGround = function () {\n      database().ref(\"code-sessions/\" + _this.state.key).set({\n        content: \"Happy Coding\",\n        createdon: Date()\n      });\n\n      _this.props.history.push(\"/\" + _this.state.key);\n\n      _this.handleStart();\n    };\n\n    _this.handleStart = function () {\n      window.location.hash = \"#\".concat(_this.state.roomName);\n      localStorage.setItem(\"room\", _this.state.roomName);\n    };\n\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Header, {\n        extras: this.state.num ? \"Total \".concat(this.state.num, \"+ Shares\") : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"homepage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), \"Share Code within \", React.createElement(\"span\", {\n        className: \"highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Realtime\"), \".\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), \"Anywhere, Anytime and with \", React.createElement(\"span\", {\n        className: \"highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Anyone\"), \".\"), React.createElement(\"p\", {\n        className: \"sub-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Simple Realtime Code Sharing Editor App. Using Firebase Realtime Database and Code Mirror as Editor.\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: this.onNewGround,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Share Code\"))));\n    }\n  }]);\n\n  return HomePage;\n}(React.Component);\n\nexport { HomePage as default };","map":{"version":3,"sources":["/Users/muhammadawais/Desktop/Chat-It/client/src/pages/Home.js"],"names":["React","Link","Header","rand","database","HomePage","state","key","generate","num","roomName","componentDidMount","setup","ref","on","s","setState","numChildren","checkiOS","window","innerWidth","roomNameInput","focus","location","hash","length","slice","ua","navigator","userAgent","iOS","match","webkit","iOSSafari","onNewGround","set","content","createdon","Date","props","history","push","handleStart","localStorage","setItem","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../Components/header\";\nimport rand from \"random-key\";\nimport { database } from \"firebase\";\nimport \"./home.css\";\n\n\nexport default class HomePage extends React.Component {\n  \n  state = {\n    key: rand.generate(5),\n    num: null,\n    roomName: ''\n  };\n  componentDidMount = () => {\n    this.setup();\n    database()\n      .ref(\"code-sessions\")\n      .on(\"value\", s => {\n        this.setState({ num: s.numChildren() });\n      });\n  };\n\n  setup = () => {\n    this.checkiOS();\n    if(window.innerWidth > 800) this.roomNameInput.focus();\n    if(window.location.hash && window.location.hash.length > 1) {\n      this.setState({ roomName: window.location.hash.slice(1) });\n    }\n  }\n\n  checkiOS = () => {\n    const ua = window.navigator.userAgent;\n    const iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n    const webkit = !!ua.match(/WebKit/i);\n    const iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n  }\n\n  onNewGround = () => {\n    database()\n      .ref(\"code-sessions/\" + this.state.key)\n      .set({\n        content: \"Happy Coding\",\n        createdon: Date()\n      });\n    this.props.history.push(\"/\" + this.state.key);\n\n    this.handleStart();\n  };\n\n  handleStart = () => {\n    window.location.hash = `#${this.state.roomName}`;\n    localStorage.setItem(\"room\", this.state.roomName);\n  }\n\n  render() {\n    \n    return (\n      <React.Fragment>\n        <Header\n          extras={this.state.num ? `Total ${this.state.num}+ Shares` : null}\n        />\n        <div className=\"homepage\">\n          <p className=\"title\">\n            <br />\n            Share Code within <span className=\"highlight\">Realtime</span>.\n            <br />\n            Anywhere, Anytime and with <span className=\"highlight\">Anyone</span>\n            .\n          </p>\n\n          <p className=\"sub-title\">\n            Simple Realtime Code Sharing Editor App. Using Firebase Realtime\n            Database and Code Mirror as Editor.\n          </p>\n          <div>\n            <button className=\"btn\" onClick={this.onNewGround}>\n              Share Code\n            </button>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}