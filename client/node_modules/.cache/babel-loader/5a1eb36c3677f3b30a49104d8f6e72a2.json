{"ast":null,"code":"import _classCallCheck from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/muhammadawais/Desktop/Chat-It/client/src/Components/Chat.js\";\nimport React, { Component } from 'react';\n\nvar Chat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chat, _Component);\n\n  function Chat() {\n    _classCallCheck(this, Chat);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Chat).apply(this, arguments));\n  }\n\n  _createClass(Chat, [{\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      (function () {\n        var output = PUBNUB.$('output'),\n            input = PUBNUB.$('input'),\n            button = PUBNUB.$('button'),\n            avatar = PUBNUB.$('avatar'),\n            _presence = PUBNUB.$('presence');\n\n        var channel = '1'; // Assign a random avatar in random color\n\n        avatar.className = 'face-' + (Math.random() * 13 + 1 >>> 0) + ' color-' + (Math.random() * 10 + 1 >>> 0);\n        var p = PUBNUB.init({\n          subscribe_key: 'sub-c-1f66d32e-68b1-11e9-8122-22455f4026bf',\n          // 'sub-c-f762fb78-2724-11e4-a4df-02ee2ddab7fe',\n          publish_key: 'pub-c-bf4fe468-70b4-46de-9837-0ef63cd6a138' // 'pub-c-156a6d5f-22bd-4a13-848d-b5b4d4b36695'\n\n        });\n        p.subscribe({\n          channel: channel,\n          callback: function callback(m) {\n            output.innerHTML = '<p><i class=\"' + m.avatar + '\"></i><span>' + m.text.replace(/[<>]/ig, '') + '</span></p>' + output.innerHTML;\n          },\n          presence: function presence(m) {\n            if (m.occupancy > 1) {\n              _presence.textContent = m.occupancy + ' people online';\n            }\n          }\n        });\n        p.bind('keyup', input, function (e) {\n          (e.keyCode || e.charCode) === 13 && publish();\n        });\n        p.bind('click', button, publish);\n\n        function publish() {\n          p.publish({\n            channel: channel,\n            message: {\n              avatar: avatar.className,\n              text: input.value\n            },\n            x: input.value = ''\n          });\n        }\n      })();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Chat With Others Here\"), React.createElement(\"section\", {\n        id: \"main\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"chat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        id: \"avatar\",\n        class: \"face12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"input\",\n        placeholder: \"Type your message...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        id: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Send Message\"), React.createElement(\"p\", {\n        id: \"presence\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"output\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nexport default Chat;","map":{"version":3,"sources":["/Users/muhammadawais/Desktop/Chat-It/client/src/Components/Chat.js"],"names":["React","Component","Chat","output","PUBNUB","$","input","button","avatar","presence","channel","className","Math","random","p","init","subscribe_key","publish_key","subscribe","callback","m","innerHTML","text","replace","occupancy","textContent","bind","e","keyCode","charCode","publish","message","value","x"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nclass Chat extends Component {\n      componentWillUpdate()\n      {\n        (function() {\n\n            var output = PUBNUB.$('output'), \n                input = PUBNUB.$('input'), \n                button = PUBNUB.$('button'),\n                avatar = PUBNUB.$('avatar'),\n                presence = PUBNUB.$('presence');\n        \n            var channel = '1';\n            \n            // Assign a random avatar in random color\n            avatar.className = 'face-' + ((Math.random() * 13 + 1) >>> 0) + ' color-' + ((Math.random() * 10 + 1) >>> 0);\n        \n            var p = PUBNUB.init({\n                subscribe_key: 'sub-c-1f66d32e-68b1-11e9-8122-22455f4026bf',\n                // 'sub-c-f762fb78-2724-11e4-a4df-02ee2ddab7fe',\n                publish_key: 'pub-c-bf4fe468-70b4-46de-9837-0ef63cd6a138'\n                // 'pub-c-156a6d5f-22bd-4a13-848d-b5b4d4b36695'\n            });\n        \n            p.subscribe({\n                channel  : channel,\n                callback : function(m) { \n                    output.innerHTML = '<p><i class=\"' + m.avatar + '\"></i><span>' +  m.text.replace( /[<>]/ig, '' ) + '</span></p>' + output.innerHTML; \n                },\n                presence: function(m){\n                    if(m.occupancy > 1) {\n                        presence.textContent = m.occupancy + ' people online';\n                    }\n                }\n            });\n        \n            p.bind('keyup', input, function(e) {\n                (e.keyCode || e.charCode) === 13 && publish()\n            });\n        \n            p.bind('click', button, publish);\n        \n            function publish() {\n                p.publish({\n                    channel : channel, \n                    message : {avatar: avatar.className, text: input.value}, \n                    x : (input.value='')\n                });\n            }\n        })();\n      }\n    render() {\n\n        return (\n            <div>\n                <h3>Chat With Others Here</h3>\n\n                <section id=\"main\" role=\"main\">\n                    <div id=\"chat\">\n                        <i id=\"avatar\" class=\"face12\"><input type=\"text\" id=\"input\" placeholder=\"Type your message...\"></input></i>\n                    </div>\n                    <button id=\"button\">\n                        Send Message\n                    </button>\n\n                    <p id=\"presence\"></p>\n                    <div id=\"output\"></div>\n                </section>\n            </div>\n        )\n    }\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}