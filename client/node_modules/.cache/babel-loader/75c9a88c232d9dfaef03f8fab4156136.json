{"ast":null,"code":"var adapter = require('webrtc-adapter');\n\nmodule.exports = function (stream, el, options) {\n  var item;\n  var element = el;\n  var opts = {\n    autoplay: true,\n    mirror: false,\n    muted: false,\n    audio: false,\n    disableContextMenu: false\n  };\n\n  if (options) {\n    for (item in options) {\n      opts[item] = options[item];\n    }\n  }\n\n  if (!element) {\n    element = document.createElement(opts.audio ? 'audio' : 'video');\n  } else if (element.tagName.toLowerCase() === 'audio') {\n    opts.audio = true;\n  }\n\n  if (opts.disableContextMenu) {\n    element.oncontextmenu = function (e) {\n      e.preventDefault();\n    };\n  }\n\n  if (opts.autoplay) element.autoplay = 'autoplay';\n  element.muted = !!opts.muted;\n\n  if (!opts.audio) {\n    ['', 'moz', 'webkit', 'o', 'ms'].forEach(function (prefix) {\n      var styleName = prefix ? prefix + 'Transform' : 'transform';\n      element.style[styleName] = opts.mirror ? 'scaleX(-1)' : 'scaleX(1)';\n    });\n  }\n\n  if (adapter.browserDetails.browser === 'safari') {\n    element.setAttribute('playsinline', true);\n  }\n\n  element.srcObject = stream;\n  return element;\n};","map":null,"metadata":{},"sourceType":"script"}