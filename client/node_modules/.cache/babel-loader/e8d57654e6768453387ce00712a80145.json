{"ast":null,"code":"import _classCallCheck from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/muhammadawais/Desktop/Chat-It/client/src/Components/Chat.js\";\nimport React, { Component } from 'react';\n\nvar Chat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chat, _Component);\n\n  function Chat(props) {\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chat).call(this, props));\n    _this.pubnub = new PubNubReact({\n      subscribe_key: 'sub-c-1f66d32e-68b1-11e9-8122-22455f4026bf',\n      // 'sub-c-f762fb78-2724-11e4-a4df-02ee2ddab7fe',\n      publish_key: 'pub-c-bf4fe468-70b4-46de-9837-0ef63cd6a138'\n    });\n\n    _this.pubnub.init(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.pubnub.subscribe({\n        channels: ['channel1'],\n        withPresence: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // var output = PUBNUB.$('output');\n      // var input = PUBNUB.$('input'); \n      // var button = PUBNUB.$('button');\n      // var avatar = PUBNUB.$('avatar');\n      // var presence = PUBNUB.$('presence');\n      var channel = '1';\n      avatar.className = 'face-' + (Math.random() * 13 + 1 >>> 0) + ' color-' + (Math.random() * 10 + 1 >>> 0); // var p = PUBNUB.init({\n      //     subscribe_key: 'sub-c-1f66d32e-68b1-11e9-8122-22455f4026bf',\n      // // 'sub-c-f762fb78-2724-11e4-a4df-02ee2ddab7fe',\n      //     publish_key: 'pub-c-bf4fe468-70b4-46de-9837-0ef63cd6a138'\n      // });\n\n      p.subscribe({\n        channel: channel,\n        callback: function callback(m) {\n          output.innerHTML = '<p><i class=\"' + m.avatar + '\"></i><span>' + m.text.replace(/[<>]/ig, '') + '</span></p>' + output.innerHTML;\n        },\n        presence: function (_presence) {\n          function presence(_x) {\n            return _presence.apply(this, arguments);\n          }\n\n          presence.toString = function () {\n            return _presence.toString();\n          };\n\n          return presence;\n        }(function (m) {\n          if (m.occupancy > 1) {\n            presence.textContent = m.occupancy + ' people online';\n          }\n        })\n      });\n      p.bind('keyup', input, function (e) {\n        (e.keyCode || e.charCode) === 13 && publish();\n      });\n      p.bind('click', button, publish);\n\n      function publish() {\n        p.publish({\n          channel: channel,\n          message: {\n            avatar: avatar.className,\n            text: input.value\n          },\n          x: input.value = ''\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Chat With Others Here\"), React.createElement(\"section\", {\n        id: \"main\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"chat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        id: \"avatar\",\n        class: \"face12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"input\",\n        placeholder: \"Type your message...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        id: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Send Message\"), React.createElement(\"p\", {\n        id: \"presence\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"output\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nexport default Chat;","map":{"version":3,"sources":["/Users/muhammadawais/Desktop/Chat-It/client/src/Components/Chat.js"],"names":["React","Component","Chat","props","pubnub","PubNubReact","subscribe_key","publish_key","init","subscribe","channels","withPresence","channel","avatar","className","Math","random","p","callback","m","output","innerHTML","text","replace","presence","occupancy","textContent","bind","input","e","keyCode","charCode","publish","button","message","value","x"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nclass Chat extends Component {\n    constructor(props) {\n        super(props);\n        this.pubnub = new PubNubReact({ \n            subscribe_key: 'sub-c-1f66d32e-68b1-11e9-8122-22455f4026bf',\n            // 'sub-c-f762fb78-2724-11e4-a4df-02ee2ddab7fe',\n            publish_key: 'pub-c-bf4fe468-70b4-46de-9837-0ef63cd6a138'\n         });\n        this.pubnub.init(this);\n      }\n      \n      componentWillMount() {\n        this.pubnub.subscribe({ channels: ['channel1'], withPresence: true });   \n        };\n\n    render() {\n        // var output = PUBNUB.$('output');\n        // var input = PUBNUB.$('input'); \n        // var button = PUBNUB.$('button');\n        // var avatar = PUBNUB.$('avatar');\n        // var presence = PUBNUB.$('presence');\n\n        var channel = '1';\n        avatar.className = 'face-' + ((Math.random() * 13 + 1) >>> 0) + ' color-' + ((Math.random() * 10 + 1) >>> 0);\n\n        // var p = PUBNUB.init({\n        //     subscribe_key: 'sub-c-1f66d32e-68b1-11e9-8122-22455f4026bf',\n        // // 'sub-c-f762fb78-2724-11e4-a4df-02ee2ddab7fe',\n        //     publish_key: 'pub-c-bf4fe468-70b4-46de-9837-0ef63cd6a138'\n        // });\n\n        p.subscribe({\n            channel: channel,\n            callback: function(m) {\n                output.innerHTML = '<p><i class=\"' + m.avatar + '\"></i><span>' +  m.text.replace( /[<>]/ig, '' ) + '</span></p>' + output.innerHTML; \n            },\n            presence: function(m){\n                if(m.occupancy > 1) {\n                    presence.textContent = m.occupancy + ' people online';\n                }\n            }\n        });\n\n        p.bind('keyup', input, function(e) {\n            (e.keyCode || e.charCode) === 13 && publish()\n        });\n    \n        p.bind('click', button, publish);\n    \n        function publish() {\n            p.publish({\n                channel : channel, \n                message : {avatar: avatar.className, text: input.value}, \n                x : (input.value='')\n            });\n        }\n\n        return (\n            <div>\n                <h3>Chat With Others Here</h3>\n\n                <section id=\"main\" role=\"main\">\n                    <div id=\"chat\">\n                        <i id=\"avatar\" class=\"face12\"><input type=\"text\" id=\"input\" placeholder=\"Type your message...\"></input></i>\n                    </div>\n                    <button id=\"button\">\n                        Send Message\n                    </button>\n\n                    <p id=\"presence\"></p>\n                    <div id=\"output\"></div>\n                </section>\n            </div>\n        )\n    }\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}