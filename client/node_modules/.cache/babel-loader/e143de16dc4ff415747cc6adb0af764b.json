{"ast":null,"code":"import _objectSpread from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/muhammadawais/Desktop/Chat-It/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/muhammadawais/Desktop/Chat-It/client/src/App.js\";\n// import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n// import Grid from '@material-ui/core/Grid';\n// import Paper from '@material-ui/core/Paper';\n// import { withStyles } from '@material-ui/core/styles';\n// import Header from './Components/header';\n// const pStyle = {\n//   textAlign: 'center',\n// }\n// class App extends Component {\n//   render() {\n//     return (\n//       <div className='App'>\n//       <Header />\n//       <Grid container spacing={24}>\n//         <Grid item xs={12}>\n//           <Paper style={pStyle}>xs=12</Paper>\n//         </Grid>\n//         <Grid item xs={6}>\n//           <Paper style={pStyle}>xs=6</Paper>\n//         </Grid>\n//         <Grid item xs={6}>\n//           <Paper style={pStyle}>xs=6</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//       </Grid>\n//       </div>\n//     );\n//   }\n// }\n// export default App;\nimport React, { Component } from \"react\";\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport Pusher from \"pusher-js\";\nimport pushid from \"pushid\";\nimport axios from \"axios\";\nimport \"./App.css\"; // import \"codemirror/lib/codemirror.css\";\n\nimport \"codemirror/theme/material.css\";\nimport \"codemirror/mode/htmlmixed/htmlmixed\";\nimport \"codemirror/mode/css/css\";\nimport \"codemirror/mode/javascript/javascript\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.syncUpdates = function () {\n      var data = _objectSpread({}, _this.state);\n\n      axios.post(\"http://localhost:3000/update-editor\", data).catch(console.error);\n    };\n\n    _this.runCode = function () {\n      var _this$state = _this.state,\n          html = _this$state.html,\n          css = _this$state.css,\n          js = _this$state.js;\n      var iframe = _this.refs.iframe;\n      var document = iframe.contentDocument;\n      var documentContents = \"\\n    <!DOCTYPE html>\\n    <html lang=\\\"en\\\">\\n    <head>\\n      <meta charset=\\\"UTF-8\\\">\\n      <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n      <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"ie=edge\\\">\\n      <title>Document</title>\\n      <style>\\n        \".concat(css, \"\\n      </style>\\n    </head>\\n    <body>\\n      \").concat(html, \"\\n      <script type=\\\"text/javascript\\\">\\n        \").concat(js, \"\\n      </script>\\n    </body>\\n    </html>\\n    \");\n      document.open();\n      document.write(documentContents);\n      document.close();\n    };\n\n    _this.state = {\n      id: \"\",\n      html: \"\",\n      css: \"\",\n      js: \"\"\n    };\n    _this.pusher = new Pusher(\"0309639b3bc0d2427a18\", {\n      cluster: \"eu\",\n      forceTLS: true\n    });\n    _this.channel = _this.pusher.subscribe(\"editor\");\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        id: pushid()\n      });\n      this.channel.bind(\"text-update\", function (data) {\n        var id = _this2.state.id;\n        if (data.id === id) return;\n\n        _this2.setState({\n          html: data.html,\n          css: data.css,\n          js: data.js\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          html = _this$state2.html,\n          js = _this$state2.js,\n          css = _this$state2.css;\n      var codeMirrorOptions = {\n        theme: \"htmlmixed\",\n        lineNumbers: true,\n        scrollbarStyle: null,\n        lineWrapping: true\n      };\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"playground\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"code-editor html-code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"editor-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"HTML\"), React.createElement(CodeMirror, {\n        value: {\n          html: html\n        },\n        options: _objectSpread({\n          mode: \"htmlmixed\"\n        }, codeMirrorOptions),\n        onBeforeChange: function onBeforeChange(editor, data, html) {\n          _this3.setState({\n            html: html\n          }, function () {\n            return _this3.syncUpdates();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"code-editor css-code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"editor-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"CSS\"), React.createElement(CodeMirror, {\n        value: css,\n        options: _objectSpread({\n          mode: \"css\"\n        }, codeMirrorOptions),\n        onBeforeChange: function onBeforeChange(editor, data, css) {\n          _this3.setState({\n            css: css\n          }, function () {\n            return _this3.syncUpdates();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"code-editor js-code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"editor-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"JavaScript\"), React.createElement(CodeMirror, {\n        value: js,\n        options: _objectSpread({\n          mode: \"javascript\"\n        }, codeMirrorOptions),\n        onBeforeChange: function onBeforeChange(editor, data, js) {\n          _this3.setState({\n            js: js\n          }, function () {\n            return _this3.syncUpdates();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }))), React.createElement(\"section\", {\n        className: \"result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"iframe\", {\n        title: \"result\",\n        className: \"iframe\",\n        ref: \"iframe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/muhammadawais/Desktop/Chat-It/client/src/App.js"],"names":["React","Component","Controlled","CodeMirror","Pusher","pushid","axios","App","syncUpdates","data","state","post","catch","console","error","runCode","html","css","js","iframe","refs","document","contentDocument","documentContents","open","write","close","id","pusher","cluster","forceTLS","channel","subscribe","setState","bind","codeMirrorOptions","theme","lineNumbers","scrollbarStyle","lineWrapping","mode","editor"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n// import Grid from '@material-ui/core/Grid';\n// import Paper from '@material-ui/core/Paper';\n// import { withStyles } from '@material-ui/core/styles';\n// import Header from './Components/header';\n\n// const pStyle = {\n//   textAlign: 'center',\n// }\n\n\n// class App extends Component {\n  \n//   render() {\n    \n//     return (\n//       <div className='App'>\n//       <Header />\n//       <Grid container spacing={24}>\n//         <Grid item xs={12}>\n//           <Paper style={pStyle}>xs=12</Paper>\n//         </Grid>\n//         <Grid item xs={6}>\n//           <Paper style={pStyle}>xs=6</Paper>\n//         </Grid>\n//         <Grid item xs={6}>\n//           <Paper style={pStyle}>xs=6</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//         <Grid item xs={3}>\n//           <Paper style={pStyle}>xs=3</Paper>\n//         </Grid>\n//       </Grid>\n//       </div>\n//     );\n    \n//   }\n// }\n\n\n// export default App;\n\nimport React, { Component } from \"react\";\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport Pusher from \"pusher-js\";\nimport pushid from \"pushid\";\nimport axios from \"axios\";\n\nimport \"./App.css\";\n// import \"codemirror/lib/codemirror.css\";\nimport \"codemirror/theme/material.css\";\n\nimport \"codemirror/mode/htmlmixed/htmlmixed\";\nimport \"codemirror/mode/css/css\";\nimport \"codemirror/mode/javascript/javascript\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      id: \"\",\n      html: \"\",\n      css: \"\",\n      js: \"\"\n    };\n\n    this.pusher = new Pusher(\"0309639b3bc0d2427a18\", {\n      cluster: \"eu\",\n      forceTLS: true\n    });\n\n    this.channel = this.pusher.subscribe(\"editor\");\n  }\n\n  componentDidMount() {\n    this.setState({\n      id: pushid()\n    });\n\n    this.channel.bind(\"text-update\", data => {\n      const { id } = this.state;\n      if(data.id === id) return;\n\n      this.setState({\n        html: data.html,\n        css: data.css,\n        js: data.js\n      });\n    });\n  }\n\n  syncUpdates = () => {\n    const data = { ...this.state };\n\n    axios \n        .post(\"http://localhost:3000/update-editor\", data)\n        .catch(console.error);\n  };\n\n  runCode = () => {\n    const { html, css, js} = this.state;\n\n    const iframe = this.refs.iframe;\n    const document = iframe.contentDocument;\n    const documentContents = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n      <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n      <title>Document</title>\n      <style>\n        ${css}\n      </style>\n    </head>\n    <body>\n      ${html}\n      <script type=\"text/javascript\">\n        ${js}\n      </script>\n    </body>\n    </html>\n    `;\n\n    document.open();\n    document.write(documentContents);\n    document.close();\n  };\n\n  render() {\n    const { html, js, css } = this.state;\n    const codeMirrorOptions = {\n      theme: \"htmlmixed\",\n      lineNumbers: true,\n      scrollbarStyle: null,\n      lineWrapping: true,\n    };\n\n    return (\n      <div className=\"App\">\n        <section className=\"playground\">\n            <div className=\"code-editor html-code\">\n              <div className=\"editor-header\">HTML</div>\n              <CodeMirror\n                  value={{html}}\n                  options={{\n                    mode: \"htmlmixed\",\n                    ...codeMirrorOptions\n                  }}\n                  onBeforeChange={(editor, data, html) => {\n                    this.setState({ html }, () => this.syncUpdates());\n                  }}\n              />\n            </div>\n            <div className=\"code-editor css-code\">\n            <div className=\"editor-header\">CSS</div>\n            <CodeMirror\n              value={css}\n              options={{\n                mode: \"css\",\n                ...codeMirrorOptions\n              }}\n              onBeforeChange={(editor, data, css) => {\n                this.setState({ css }, () => this.syncUpdates());\n              }}\n            />\n          </div>\n          <div className=\"code-editor js-code\">\n            <div className=\"editor-header\">JavaScript</div>\n            <CodeMirror\n              value={js}\n              options={{\n                mode: \"javascript\",\n                ...codeMirrorOptions\n              }}\n              onBeforeChange={(editor, data, js) => {\n                this.setState({ js }, () => this.syncUpdates());\n              }}\n            />\n          </div>\n        </section>\n        <section className=\"result\">\n          <iframe title=\"result\" className=\"iframe\" ref=\"iframe\" />\n        </section>\n      </div>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}