/**
 * @function wrapStack
 * @param {...function} components
 * @returns {string[]} - Stack names
 */
'use strict'

/** @lends wrapStack */
function wrapStack(...components) {
  return components.reduce(
    (wrapStack, component) => [
      ...wrapStack,
      ...[].concat(
        component.wrapStack ||
          component.displayName ||
          component.name ||
          'Anonymous',
      ),
    ],
    [],
  )
}

wrapStack.nameFor = (Component) => {
  const hasStack = Component.wrapStack && Component.wrapStack.length > 0
  if (hasStack) {
    return Component.wrapStack.join(' < ')
  }
  return Component.displayName || Component.name
}

wrapStack.trueNameFor = (Component) => {
  return (
    [...(Component.wrapStack || [])].reverse()[0] ||
    Component.displayName ||
    Component.name
  )
}

export default wrapStack
