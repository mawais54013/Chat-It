'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _reactRouterDom = require("react-router-dom");

var _theComponentUtil = require("the-component-util");

var _theIcon = require("the-icon");

var _url = require("url");

var _TheLinkStyle = _interopRequireDefault(require("./TheLinkStyle"));

/**
 * Link of the-components
 */
var TheLink =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2.default)(TheLink, _React$Component);

  function TheLink() {
    (0, _classCallCheck2.default)(this, TheLink);
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TheLink).apply(this, arguments));
  }

  (0, _createClass2.default)(TheLink, [{
    key: "render",
    value: function render() {
      var props = this.props;
      var activeClassName = props.activeClassName,
          activeStyle = props.activeStyle,
          children = props.children,
          className = props.className,
          color = props.color,
          exact = props.exact,
          icon = props.icon,
          replace = props.replace,
          strict = props.strict,
          _props$style = props.style,
          style = _props$style === void 0 ? {} : _props$style,
          to = props.to;

      if (color && style) {
        style.color = color;
      }

      return _react.default.createElement(TheLink.Link, (0, _extends2.default)({}, (0, _theComponentUtil.htmlAttributesFor)(props, {
        except: ['className', 'style']
      }), (0, _theComponentUtil.eventHandlersFor)(props, {
        except: []
      }), {
        activeClassName: (0, _classnames.default)('the-link-active', activeClassName),
        className: (0, _classnames.default)('the-link', className)
      }, {
        activeStyle: activeStyle,
        exact: exact,
        replace: replace,
        strict: strict,
        style: style,
        to: to
      }), icon && _react.default.createElement(_theIcon.TheIcon, {
        className: (0, _classnames.default)('the-link-icon', icon)
      }), children);
    }
  }], [{
    key: "Link",
    value: function Link(props) {
      var children = props.children,
          className = props.className,
          to = props.to;

      var _ref = to && typeof to === 'string' && (0, _url.parse)(to) || {},
          protocol = _ref.protocol;

      if (protocol) {
        // External link
        return _react.default.createElement("a", (0, _extends2.default)({}, (0, _theComponentUtil.htmlAttributesFor)(props, {
          except: ['className', 'href']
        }), (0, _theComponentUtil.eventHandlersFor)(props, {
          except: []
        }), {
          className: (0, _classnames.default)('the-link-external', className),
          href: to
        }), children);
      }

      return _react.default.createElement(_reactRouterDom.NavLink, props, children);
    }
  }]);
  return TheLink;
}(_react.default.Component);

TheLink.Style = _TheLinkStyle.default;
TheLink.propTypes = {
  /** Class name for active state */
  activeClassName: _propTypes.default.string,

  /** Style for active state */
  activeStyle: _propTypes.default.object,

  /** Color theme */
  color: _propTypes.default.string,

  /** Exact path */
  exact: _propTypes.default.bool,

  /** Icon class name */
  icon: _propTypes.default.string,

  /** String path */
  strict: _propTypes.default.bool,

  /** Link to */
  to: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]).isRequired
};
TheLink.defaultProps = {
  activeClassName: null,
  activeStyle: {},
  color: null,
  exact: false,
  icon: null,
  replace: false,
  role: 'link',
  strict: false,
  to: null
};
TheLink.displayName = 'TheLink';
var _default = TheLink;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRoZUxpbmsuanN4Il0sIm5hbWVzIjpbIlRoZUxpbmsiLCJwcm9wcyIsImFjdGl2ZUNsYXNzTmFtZSIsImFjdGl2ZVN0eWxlIiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJjb2xvciIsImV4YWN0IiwiaWNvbiIsInJlcGxhY2UiLCJzdHJpY3QiLCJzdHlsZSIsInRvIiwiZXhjZXB0IiwicHJvdG9jb2wiLCJSZWFjdCIsIkNvbXBvbmVudCIsIlN0eWxlIiwiVGhlTGlua1N0eWxlIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwib2JqZWN0IiwiYm9vbCIsIm9uZU9mVHlwZSIsImlzUmVxdWlyZWQiLCJkZWZhdWx0UHJvcHMiLCJyb2xlIiwiZGlzcGxheU5hbWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7O0lBR01BLE87Ozs7Ozs7Ozs7Ozs2QkFvQks7QUFBQSxVQUNDQyxLQURELEdBQ1csSUFEWCxDQUNDQSxLQUREO0FBQUEsVUFHTEMsZUFISyxHQWNIRCxLQWRHLENBR0xDLGVBSEs7QUFBQSxVQUlMQyxXQUpLLEdBY0hGLEtBZEcsQ0FJTEUsV0FKSztBQUFBLFVBS0xDLFFBTEssR0FjSEgsS0FkRyxDQUtMRyxRQUxLO0FBQUEsVUFNTEMsU0FOSyxHQWNISixLQWRHLENBTUxJLFNBTks7QUFBQSxVQU9MQyxLQVBLLEdBY0hMLEtBZEcsQ0FPTEssS0FQSztBQUFBLFVBUUxDLEtBUkssR0FjSE4sS0FkRyxDQVFMTSxLQVJLO0FBQUEsVUFTTEMsSUFUSyxHQWNIUCxLQWRHLENBU0xPLElBVEs7QUFBQSxVQVVMQyxPQVZLLEdBY0hSLEtBZEcsQ0FVTFEsT0FWSztBQUFBLFVBV0xDLE1BWEssR0FjSFQsS0FkRyxDQVdMUyxNQVhLO0FBQUEseUJBY0hULEtBZEcsQ0FZTFUsS0FaSztBQUFBLFVBWUxBLEtBWkssNkJBWUcsRUFa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QUFXLEVBQUUsRUFGUTtBQUdyQkcsRUFBQUEsS0FBSyxFQUFFLElBSGM7QUFJckJDLEVBQUFBLEtBQUssRUFBRSxLQUpjO0FBS3JCQyxFQUFBQSxJQUFJLEVBQUUsSUFMZTtBQU1yQkMsRUFBQUEsT0FBTyxFQUFFLEtBTlk7QUFPckJrQixFQUFBQSxJQUFJLEVBQUUsTUFQZTtBQVFyQmpCLEVBQUFBLE1BQU0sRUFBRSxLQVJhO0FBU3JCRSxFQUFBQSxFQUFFLEVBQUU7QUFUaUIsQ0FBdkI7QUFZQVosT0FBTyxDQUFDNEIsV0FBUixHQUFzQixTQUF0QjtlQUVlNUIsTyIsInNvdXJjZVJvb3QiOiIuLi9saWIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuaW1wb3J0IGMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IE5hdkxpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHsgZXZlbnRIYW5kbGVyc0ZvciwgaHRtbEF0dHJpYnV0ZXNGb3IgfSBmcm9tICd0aGUtY29tcG9uZW50LXV0aWwnXG5pbXBvcnQgeyBUaGVJY29uIH0gZnJvbSAndGhlLWljb24nXG5pbXBvcnQgeyBwYXJzZSBhcyBwYXJzZVVybCB9IGZyb20gJ3VybCdcbmltcG9ydCBUaGVMaW5rU3R5bGUgZnJvbSAnLi9UaGVMaW5rU3R5bGUnXG5cbi8qKlxuICogTGluayBvZiB0aGUtY29tcG9uZW50c1xuICovXG5jbGFzcyBUaGVMaW5rIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIExpbmsocHJvcHMpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBjbGFzc05hbWUsIHRvIH0gPSBwcm9wc1xuICAgIGNvbnN0IHsgcHJvdG9jb2wgfSA9ICh0byAmJiB0eXBlb2YgdG8gPT09ICdzdHJpbmcnICYmIHBhcnNlVXJsKHRvKSkgfHwge31cbiAgICBpZiAocHJvdG9jb2wpIHtcbiAgICAgIC8vIEV4dGVybmFsIGxpbmtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhXG4gICAgICAgICAgey4uLmh0bWxBdHRyaWJ1dGVzRm9yKHByb3BzLCB7IGV4Y2VwdDogWydjbGFzc05hbWUnLCAnaHJlZiddIH0pfVxuICAgICAgICAgIHsuLi5ldmVudEhhbmRsZXJzRm9yKHByb3BzLCB7IGV4Y2VwdDogW10gfSl9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjKCd0aGUtbGluay1leHRlcm5hbCcsIGNsYXNzTmFtZSl9XG4gICAgICAgICAgaHJlZj17dG99XG4gICAgICAgID5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvYT5cbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIDxOYXZMaW5rIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvTmF2TGluaz5cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzXG4gICAgY29uc3Qge1xuICAgICAgYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgYWN0aXZlU3R5bGUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGNvbG9yLFxuICAgICAgZXhhY3QsXG4gICAgICBpY29uLFxuICAgICAgcmVwbGFjZSxcbiAgICAgIHN0cmljdCxcbiAgICAgIHN0eWxlID0ge30sXG4gICAgICB0byxcbiAgICB9ID0gcHJvcHNcbiAgICBpZiAoY29sb3IgJiYgc3R5bGUpIHtcbiAgICAgIHN0eWxlLmNvbG9yID0gY29sb3JcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaGVMaW5rLkxpbmtcbiAgICAgICAgey4uLmh0bWxBdHRyaWJ1dGVzRm9yKHByb3BzLCB7IGV4Y2VwdDogWydjbGFzc05hbWUnLCAnc3R5bGUnXSB9KX1cbiAgICAgICAgey4uLmV2ZW50SGFuZGxlcnNGb3IocHJvcHMsIHsgZXhjZXB0OiBbXSB9KX1cbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPXtjKCd0aGUtbGluay1hY3RpdmUnLCBhY3RpdmVDbGFzc05hbWUpfVxuICAgICAgICBjbGFzc05hbWU9e2MoJ3RoZS1saW5rJywgY2xhc3NOYW1lKX1cbiAgICAgICAgey4uLnsgYWN0aXZlU3R5bGUsIGV4YWN0LCByZXBsYWNlLCBzdHJpY3QsIHN0eWxlLCB0byB9fVxuICAgICAgPlxuICAgICAgICB7aWNvbiAmJiA8VGhlSWNvbiBjbGFzc05hbWU9e2MoJ3RoZS1saW5rLWljb24nLCBpY29uKX0gLz59XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvVGhlTGluay5MaW5rPlxuICAgIClcbiAgfVxufVxuXG5UaGVMaW5rLlN0eWxlID0gVGhlTGlua1N0eWxlXG5cblRoZUxpbmsucHJvcFR5cGVzID0ge1xuICAvKiogQ2xhc3MgbmFtZSBmb3IgYWN0aXZlIHN0YXRlICovXG4gIGFjdGl2ZUNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqIFN0eWxlIGZvciBhY3RpdmUgc3RhdGUgKi9cbiAgYWN0aXZlU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKiBDb2xvciB0aGVtZSAqL1xuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqIEV4YWN0IHBhdGggKi9cbiAgZXhhY3Q6IFByb3BUeXBlcy5ib29sLFxuICAvKiogSWNvbiBjbGFzcyBuYW1lICovXG4gIGljb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKiBTdHJpbmcgcGF0aCAqL1xuICBzdHJpY3Q6IFByb3BUeXBlcy5ib29sLFxuICAvKiogTGluayB0byAqL1xuICB0bzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLmlzUmVxdWlyZWQsXG59XG5cblRoZUxpbmsuZGVmYXVsdFByb3BzID0ge1xuICBhY3RpdmVDbGFzc05hbWU6IG51bGwsXG4gIGFjdGl2ZVN0eWxlOiB7fSxcbiAgY29sb3I6IG51bGwsXG4gIGV4YWN0OiBmYWxzZSxcbiAgaWNvbjogbnVsbCxcbiAgcmVwbGFjZTogZmFsc2UsXG4gIHJvbGU6ICdsaW5rJyxcbiAgc3RyaWN0OiBmYWxzZSxcbiAgdG86IG51bGwsXG59XG5cblRoZUxpbmsuZGlzcGxheU5hbWUgPSAnVGhlTGluaydcblxuZXhwb3J0IGRlZmF1bHQgVGhlTGlua1xuIl19